# ‚öîÔ∏è Forja API - Backend de Treinos H√≠bridos

> **"Assim como no fogo √© forjado o a√ßo, no calor dos campos de batalhas s√£o formados os melhores soldados."**

O **Forja** √© uma API RESTful robusta desenvolvida para gerenciamento e rastreamento de treinos de muscula√ß√£o e cardio. O objetivo √© fornecer um backend s√≥lido para aplica√ß√µes fitness, permitindo que usu√°rios registrem seu progresso, consultem hist√≥rico detalhado e analisem m√©tricas de desempenho.

O sistema foi constru√≠do seguindo as melhores pr√°ticas de **Clean Code**, arquitetura em camadas e princ√≠pios **SOLID**, com foco em performance e integridade de dados.

---

## üõ†Ô∏è Tecnologias Utilizadas

O projeto utiliza uma stack moderna baseada no ecossistema Java:

* ![Java](https://img.shields.io/badge/java-%23ED8B00.svg?style=for-the-badge&logo=openjdk&logoColor=white) **Java 21** (LTS)
* ![Spring](https://img.shields.io/badge/spring-%236DB33F.svg?style=for-the-badge&logo=spring&logoColor=white) **Spring Boot 3.x**
* ![MySQL](https://img.shields.io/badge/mysql-%2300f.svg?style=for-the-badge&logo=mysql&logoColor=white) **MySQL 8+**
* **Persist√™ncia:** Spring Data JPA / Hibernate
* **Ferramentas:** Maven, Insomnia/Postman

---

## ‚úÖ Funcionalidades Implementadas

### 1. Cat√°logo de Exerc√≠cios Inteligente (`/v1/catalog`)
Um dos diferenciais t√©cnicos do projeto √© o sistema de busca "Fuzzy" para exerc√≠cios.
* **Busca Resiliente:** Algoritmos implementados (Regex + Normalizer) ignoram acentos, espa√ßos extras, hifens e erros de digita√ß√£o.
    * *Exemplo:* Buscar por `supino inclinado` encontra `Sup√≠no Inclinad√∂ (Halteres)`.
* **Filtros Combinados:** Permite filtrar por **Grupo Muscular** (Enum) e **Nome** simultaneamente.
* **Carga em Lote:** Endpoint para popular o banco com centenas de exerc√≠cios via JSON. 
[Cr√©ditos](https://github.com/joao-gugel/exercicios-bd-ptbr/blob/main/exercises/exercises-ptbr-full-translation.json)


### 2. Gest√£o de Sess√µes de Treino (`/v1/session`)
* **Deep Insert (Transacional):** Salva o treino completo (Sess√£o + Exerc√≠cios + S√©ries + Cardio) em uma √∫nica transa√ß√£o at√¥mica. Se uma parte falhar, nada √© salvo.
* **Hist√≥rico do Atleta:** Listagem otimizada de todas as sess√µes de um usu√°rio.
* **Cascade Delete:** Remo√ß√£o inteligente que limpa logs √≥rf√£os (Sets, LiftingLogs) ao deletar uma sess√£o.

### 3. Usu√°rios (`/v1/users`)
* Cadastro de perfil e gerenciamento b√°sico de dados do atleta.

---

## üöß Em Desenvolvimento (WIP)

Estamos trabalhando ativamente nas seguintes features:

* **Valida√ß√£o & Tratamento de erros:** Bean Validation (@Valid) e Exce√ß√µes (@ControllerAdvice)
* **OpenAPI / Swagger (Springdoc):** Instalar depend√™ncia, gerar uma p√°gina web para documenta√ß√£o e testar os end points.

---

## üîÆ Roadmap (Pr√≥ximos Passos)

* [ ] **Testes Unit√°rios:** Cobertura de testes com JUnit 5 e Mockito, focando na l√≥gica de normaliza√ß√£o de strings.
* [ ] **Seguran√ßa:** Implementa√ß√£o de **Spring Security + JWT** para autentica√ß√£o e prote√ß√£o de rotas.
* [ ] **Configura√ß√£o de CORS**

---

## üîå Documenta√ß√£o da API (Endpoints Principais)

### üèãÔ∏è Cat√°logo
| M√©todo | Rota | Descri√ß√£o |

| `GET` | `/v1/catalog` | Lista exerc√≠cios. Filtros opcionais: `?muscleGroup=PEITO&name=supino` |

| `POST` | `/v1/catalog/batch` | Carga inicial de exerc√≠cios (Admin). |

### üìù Sess√µes de Treinamentos
| M√©todo | Rota | Descri√ß√£o |

| `POST` | `/v1/session` | Cria um novo treino completo. |

| `GET` | `/v1/session/user/{userId}` | Retorna o hist√≥rico de treinos do usu√°rio. |

| `GET` | `/v1/session/{sessionId}` | Detalhes de um treino espec√≠fico. |

| `DELETE` | `/v1/session/{sessionId}` | Deleta um treino e seus logs associados. |

---

## ‚òï Como Rodar o Projeto

Voc√™ tem duas op√ß√µes: rodar tudo via Docker (mais f√°cil) ou rodar em modo de desenvolvimento (para debugar na IDE).

### Op√ß√£o 1: Modo "Pronto para Uso" (Docker Completo) üê≥
*Ideal para testar a aplica√ß√£o sem instalar nada al√©m do Docker.*

1.  **Clone o reposit√≥rio:**
    ```bash
    git clone [https://github.com/seu-usuario/forja.git](https://github.com/seu-usuario/forja.git)
    cd forja
    ```

2.  **Gere o execut√°vel (JAR):**
    ```bash
    mvn clean package -DskipTests
    ```

3.  **Suba a aplica√ß√£o e o banco:**
    ```bash
    docker-compose up --build
    ```
    *O Docker ir√° baixar o MySQL, configurar as credenciais automaticamente e iniciar a API.*

4.  **Acesse:**
    A API estar√° rodando em: `http://localhost:8080`

---

### Op√ß√£o 2: Modo Desenvolvimento (H√≠brido) üõ†Ô∏è
*Ideal para codar e testar mudan√ßas em tempo real.*

Neste modo, rodamos apenas o Banco de Dados no Docker, e a Aplica√ß√£o na sua IDE (IntelliJ/Eclipse).

1.  **Suba apenas o Banco de Dados:**
    No terminal, execute:
    ```bash
    docker-compose up mysql
    ```
    *(Isso garante que voc√™ tenha um MySQL rodando na porta 3306 pronto para receber conex√µes).*

2.  **Configure o `application.properties` (Apenas uma vez):**
    Certifique-se de que seu arquivo local aponta para `localhost` (j√° que o container exp√µe a porta para sua m√°quina):
    ```properties
    spring.datasource.url=jdbc:mysql://localhost:3306/db_forja?createDatabaseIfNotExist=true
    spring.datasource.username=root
    spring.datasource.password=12345
    spring.jpa.hibernate.ddl-auto=update
    ```

3.  **Execute a aplica√ß√£o pela IDE:**
    Abra o projeto no IntelliJ e clique em **Run** na classe `ForjaApplication`.
---

## ü§ù Contribui√ß√£o

Este projeto √© um portf√≥lio pessoal de desenvolvimento Backend. Sugest√µes, Issues e Pull Requests s√£o muito bem-vindos!

---

**Desenvolvido com üí™ e Java.**